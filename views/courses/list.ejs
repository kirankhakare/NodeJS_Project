<!DOCTYPE html>
<html>

<head>
  <title>Courses List</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script type="text/javascript" src="/ajaxtext.js"></script>
</head>

<body>
  <%- include('../partials/navbar') %>

  <div class="container mt-5">
      <%- include('../partials/messages') %>
    <div class="row justify-content-center">
      <div class="col-md-10">

        <div class="card shadow">
          
          <div class="form-group mt-4">
            <input type="text" class="form-control" id="nId" placeholder="Search...." onkeyup="ajaxImpl(this.value)"
              style="width: 100%; height: 40px;">
          </div><br>

          <div class="card-header bg-primary text-white text-center">
            <h4>Courses List</h4>
          </div>

          <div class="card-body">

            <!-- Courses Table -->
            <table class="table table-bordered table-striped text-center">
              <thead class="table-light">
                <tr>
                  <th>ID</th>
                  <th>Course Name</th>
                  <th>Action</th> <!-- New column -->
                </tr>
              </thead>
              <tbody id="tblBody">
                <% courses.forEach((course,index) => { %>
                  <tr>
                    <td><%= index+1 %></td>
                    <td><%= course.course_name %></td>
                    <td>
                      <a href="/courses/edit/<%= course.course_id %>" class="btn btn-sm btn-warning">Edit</a>
                      <a href="/courses/delete/<%= course.course_id %>" class="btn btn-sm btn-danger"
                        onclick="return confirm('Are you sure you want to delete this course?');">Delete</a>
                    </td>
                  </tr>
                <% }); %>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </div>
  </div>
</body>
</html>
